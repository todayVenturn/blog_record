# 背景说明

-   有太多的程序员不会写文档
-   有太多的项目没有（完整的）文档
-   即使有文档，这些文档达标了吗？



-   你对文档有正确的认识吗？
-   你会写文档吗？
-   软件项目的文档是可有可无的吗？



# 项目文档的分类

-   研发文档
    -   需求分析
    -   系统设计
    -   接口文档
-   用户文档
    -   产品白皮书
    -   产品使用文档
    -   操作指南



>   这里主要聚焦研发文档



# 一、项目文档的重要性

## 项目文档的重要性

-   文档的目的
    -   提高**沟通效率**
    -   提升对 **思考过程** 的管理
-   项目中，**超过50%**的时间用于沟通
    -   提高沟通的效率非常重要
-   沟通方式
    -   口头、**文档**、代码、邮件
-   对**思考过程**的管理
    -   项目中常常面临数不清的问题（“线头”）
    -   理清问题，挑出重点，深入挖掘



-   软件工程的基础能力要求
    -   代码、文档、项目管理
-   项目文档能力是对高阶软件工程师的**基本要求**
-   不会写文档 = 不会做设计



>   建筑设计师：
>
>   -   我已经完成了你新家的设计，剩下的就是把它画出来



## 常见误区

-   写文档是**浪费时间**？**没有时间**写文档？
    -   文档本身**也是产出**：codeing的时间**少于30%**
    -   写文档是**整理思路**的**过程**：**打字速度**应快于**思考速度**
    -   没有文档，后期会花费更多的**维护成本**

-   没写**需求分析**和系**统设计**文档就开始写代码？
    -   **修改文档**，比**修改代码**的成本小的多
-   这是个简单的项目 / 问题，**不需要**文档？
    -   项目的延续**时间**和**复杂性**往往**超出预期**
    -   早期的**偷懒**，往往在后期会**付出代价**



## 常见问题

-   没有**接口**文档：多人**协作**出现问题
-   需求文档没写好：
    -   多次**反复讨论**同样的问题
-   没有系统总体架构文档
    -   每个人都需要**重新看代码**，还不一定能看清
-   缺少文档：
    -   **新人**无从入手
    -   人员变动时，不好**交接**
    -   团队内**沟通效率**很低
    -   自己过了两个月后，**痛苦**的**回忆**之前的思路



## 什么时候需要写文档？

-   必须的文档
    -   **需求**设计文档：需求、重点、取舍过程
    -   **接口**文档：函数、参数、返回值
    -   关键性的算法文档：思路，关键点
    -   系统**总体**框架：全局的思路
-   凡是**不那么 “显而易见”** 的地方，最好都留下文档
-   不仅留下**设计结果（what）**， 也留下**思考过程（why）**
    -   留下决策的依据，便于后面的工作：如果这些都没有，后续的同学假如要做重构，就得把你踩过的坑、试过的错都得重新走一遍
-   文档**不是**写完代码后**补**出来的
    -   文档是设计过程中使用的**工具**、和设计**过程**的结果



# 二、文档书写规范

-   封面
    -   编号、项目、版本号：方便其他文档引用
-   历史说明
    -   修改人、修改日志、修改说明：所有的修改都应该是可追溯的
-   编写说明
    -   类似论文的摘要：方便读者快速知道论文的目的
-   字体
    -   宋体、五号字、单倍行距
-   文档结构
    -   分层次的标题，便于从**全局**把握



# 三、文档内容的书写

## 标题

**标题就是文档的坐标，标题逻辑反映文档整理逻辑**

-   在wiki、word等工具中，都有单独的标题样式
-   标题的要求
    -   标题是否表达文档的内容
    -   标题是否和文档内容一直
    -   各层标题所构成的提纲，是否能清晰反映文档的内容



## 标题的典型错误

-   错误1：标题不准确
    -   表现：标题和文档的内容不一致
    -   点评：导致读者的 “误读”
-   错误2：对标题**不使用 “标题样式”**
    -   点评：文档只要超过1页，都非常难读
-   错误3：对标题不编号
    -   点评：对标题之间的关系难以理解



## 段落的格式

-   格式表现的是一种逻辑
    -   可能的逻辑关系：总-分，递进，并列，…
-   注意事项
    -   段首一定要有**缩进**
    -   段落**不要太长**
    -   注意每段的**第一句**话：往往是一段概括性的，能够充分的展示这个段的内容
    -   每段内的多句话应该有一定的**逻辑**



## 使用项目符号或编号

-   通过项目符号来反映句子间的并列或总分关系

![1689675024616](05-%E5%A6%82%E4%BD%95%E5%86%99%E5%A5%BD%E9%A1%B9%E7%9B%AE%E6%96%87%E6%A1%A3.assets/1689675024616.png)



## 文档中问题的划分

-   选择合适的**角度**
    -   从不同角度看到的不一样
    -   类比：汽车不同角度的view
-   角度的**说明**：说明划分问题的出发角度
-   注意联系：子问题之间的**联系**
-   是否是一个**独立**的问题
    -   切分问题是否准确？
-   是否是一个重要的问题
    -   决定协作的详略：重要的问题详细描述



## 选用合适的表述模式

>   不同种类的问题，有**不同**的表示模式

**分析和解决一个问题：**

1.  **提出**问题
2.  **分析**问题
3.  **解决**问题

**提出一个实现的建议：**

1.  出发点（目的）
2.  手段
3.  工作量估计：投入产出比分析，方便管理层做决策
4.  收益的估计

**系统的设计**

-   模块
-   功能
-   过程

**程序的设计**

-   数据
-   函数
-   模块
-   调用过程
-   系统结构



## 文档的评审

-   **文档是写给别人看的**：你写的文档别人能看懂
-   能否让读者在**5分钟**内看懂
-   能否做到**问题清楚、重点突出、逻辑清楚？**
-   能否做到**言之有物**：不要死套**格式（模板）**，具体问题具体分析
-   能否做到**言简意赅**：不要说**废话**
-   能否避免造成别人的**误解**
    -   不要说模棱两可的话：大概、可能
    -   要注意自己的表达是否**通俗**：有大多人说：自己才懂的 “方言”



## 文档的书写方法

-   拉提纲，**自顶向下**
    -   大的标题下，列出子问题
    -   再对每个子问题逐步**展开**
-   反刍
    -   感觉不好之后要**及时修改**：一句、一段、甚至整个文章的结构
    -   逐步提高自己写文档的能力
-   让重要的内容醒目
    -   标题；段首的第一句话
    -   加重、有颜色、或带下划线的文字
    -   **清楚你想让读者看到什么**



# 四、文档中的配图

## 文档中配图的注意事项

-   明确图片的目的
    -   只能展示**1~2个**（最好是**1个**）主要问题
    -   只能说明**一个层次上**的问题
-   明确图片中传递信息的**重点**
-   注意图片中的**面积的使用**
    -   常见错误：太多**空白**区域，说明的文字过小
-   能**独立说明**一个事情
    -   同时太多的关注点 = > **失焦**
-   用文字给出**辅助说明**
    -   对于图片中不能明确表达的地方



## 每次只说明一个事情

**不好的表达方式**

![1689818157756](05-%E5%A6%82%E4%BD%95%E5%86%99%E5%A5%BD%E9%A1%B9%E7%9B%AE%E6%96%87%E6%A1%A3.assets/1689818157756.png)

说明了模块之间的连接方式，同时还说明了模块中的组成是什么样的，表达的东西太多，让读者搞不清重点。



**好的表达方式：**

![1689818259684](05-%E5%A6%82%E4%BD%95%E5%86%99%E5%A5%BD%E9%A1%B9%E7%9B%AE%E6%96%87%E6%A1%A3.assets/1689818259684.png)



## 画图要注意规范性

-   常用的图
    -   流程图：执行的逻辑关系
    -   架构图：各模块的调用关系
    -   时序图
-   常见错误
    -   **”四不像“** 的图
    -   画图**不规范**
    -   图片**没有图题**



# 五、文档的评审

## 文档评审中的问题

-   有太多的文档review是无效的
    -   Q（leader）：这个文档你review过了，为什么质量还这么差？
    -   A（reviewer）：这个文档内容我也感觉模模糊糊的
-   很多文档写出后，根本就**没有被（仔细）看过**
    -   写这样的文档**有什么用**？



## 文档评审的建议

-   文档评审是一次在大脑中的 **“重放过程”**
    -   尝试follow作者的**思路**，看看是否可以走通
    -   是否有**遗漏**的内容
-   文档评审的**产出**
    -   在文档中插入批注
    -   直接对文档进行修订
-   word提供了很多好的功能：修订、批注



# 六、文档的存放

## 文档的存放 / 存档

-   除了文档的编写，文档的**存档**也非常重要
-   优化存放的目的
    -   便于**浏览**
    -   便于**查询**
-   没有很好的存档，文档的作用会大打折扣
    -   难以维护，难以查看



## 文档存放的常见错误

-   项目资料存放在**个人wiki或团队wiki**
    -   项目资料是属于 **“项目”** 的
-   没有建立**文档索引**
    -   读者很难看清整个项目文档的**全局**
    -   很多已经**过时的文档**仍然在存档中存在，而且并没有标明
-   无统一文档缩影，而是分期建立
    -   背景：一些项目会分为多期（一期、二期…..）
    -   现象：为一期、二期等分别维护索引
    -   推荐方案：沉淀到**统一的文档索引**



## 文档存放的推荐方式

-   将文档**文件**（如word格式）保存在**代码仓库**中
    -   代码仓库：如git
    -   优点
        -   提交**日志**清晰，避免**误删除**
        -   容易看到本地和远程的不一致
-   在wiki上建立文档的索引
    -   便于看清全局的情况（内容分布、时间分布）

## 文档存档示例：存放在Git

![1689820978055](05-%E5%A6%82%E4%BD%95%E5%86%99%E5%A5%BD%E9%A1%B9%E7%9B%AE%E6%96%87%E6%A1%A3.assets/1689820978055.png)



## 文档索引示例：wiki

![1689823331898](05-%E5%A6%82%E4%BD%95%E5%86%99%E5%A5%BD%E9%A1%B9%E7%9B%AE%E6%96%87%E6%A1%A3.assets/1689823331898.png)



## 文档编写的工具

![1689823362330](05-%E5%A6%82%E4%BD%95%E5%86%99%E5%A5%BD%E9%A1%B9%E7%9B%AE%E6%96%87%E6%A1%A3.assets/1689823362330.png)



# 七、如何提高文档能力

## 对文档能力认识的误区

-   普遍的误区
    -   我对这个项目都非常清楚，我只是**不会写文档**
    -   你错了！写不好文档的根本原因是**没有想清楚！**
-   提高写文档能力的本质
    -   提高分析问题的能力
    -   提高系统设计的能力



## 怎么提高文档的能力

-   多看（Read）
    -   好的**教科书**：不只看what，而且看why和分析过程
    -   好的**论文**：好的论文可能原来就是一个设计文档
-   多写（Write）
-   多改（Modify）
    -   自己给自己挑毛病
-   多审（Review）
    -   看一遍别人的文档，也是很好的训练



# 总结

-   文档对项目非常重要
    -   **没有文档，就没有设计**
    -   对高阶工程师，设计文档是**水平**和**工作量**的重要展示
-   写好文档是有方法论的
    -   需要**学习**，并不断**体会（思考）**和**实践**
-   注意文档的**工具**和**存档**
    -   对文档工作的**效率**和**效果**有直接的影响

