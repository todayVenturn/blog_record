# 一、HTTP协议的发展历史

​	HTTP起源于 蒂姆·伯纳斯 - 李 的一篇论文。现如今互联网应用最广泛的是HTTP 1.1。但是随着互联网的发展，它早已不再使用了。

​	所以谷歌公司率先发起革命，它先在自己浏览器中推出新的传输协议，以实际的用户来“倒逼”HTTP协议的变革。

HTTP/2的特点：

1. 二进制协议，不再是纯文本
2. 可发起多个请求，废弃1.1中的管道
3. 使用专用算法压缩头部，减少数据传输量
4. 允许服务器主动向客户端推送数据
5. 增加安全性



> 1. HTTP 协议始于三十年前蒂姆·伯纳斯 - 李的一篇论文；
> 2. HTTP/0.9 是个简单的文本协议，只能获取文本资源；
> 3. HTTP/1.0 确立了大部分现在使用的技术，但它不是正式标准；
> 4. HTTP/1.1 是目前互联网上使用最广泛的协议，功能也非常完善；
> 5. HTTP/2 基于 Google 的 SPDY 协议，注重性能改善，但还未普及；
> 6. HTTP/3 基于 Google 的 QUIC 协议，是将来的发展方向。



# 二、HTTP是什么

> HTTP是超文本传输协议

## 协议

1. 协议要有两个或多个参与者：如果只有一个人，可以想怎么玩就怎么玩
2. 协议时对参与者的一种行为约定和规范：约定该做什么不该做什么，先做什么后做什么，做错了怎么办，有没有补救措施



## 传输

传输，把一堆东西从A点搬到B点，或者从B点搬到A点。HTTP是一个双向协议，通常我们把先发起传输动作的叫请求方，然后接到传输的B叫应答方或者响应方。



## 超文本

超越普通文本，它可以传输：文字、图片、音频、视频等混合体，最关键的是含有超链接，可以从一个超文本跳到另一个超文本，形成复杂的非线性、网状的结构关系



# 三、与HTTP相关的概念

## 浏览器

HTTP协议中的请求方，用于构建和发送HTTP请求、解析HTTP响应消息

## web服务器

HTTP协议中的应答方，它有两个层面的含义：硬件和软件。

## CDN

内容分发网络，应用了HTTP协议中的缓存和代理技术，代替源站响应客户端的请求

## 爬虫

一种可以自动访问web资源的应用程序

## TCP/IP

​	TCP属于传输层、IP属于网际层，IP协议主要目的是解决寻址和路由问题，如何在两点间传送数据包。IP协议使用IP地址定位互联网上的每一台计算机。TCP协议位于IP协议之上，基于IP协议实现可靠的、字节的形式的传输。

​	 “可靠”是指保证数据不丢失，“字节流”是指保证数据完整，所以在 TCP 协议的两端可以如同操作文件一样访问传输的数据，就像是读写在一个密闭的管道里“流动”的字节。 

## DNS

域名系统，通过host标记不同的主机。域名解析：将域名映射到真实的IP

## URI/URL

统一资源标识符，`http://nginx.org/en/download.html`，URI主要有三个基本的部分构成：

1. 协议名：访问该资源应当使用的协议
2. 主机名：互联网上主机的标记
3. 路径：资源在主机上的位置，使用“/”分隔多级目录在这里是`/en/download.html`

## HTTPS

HTTP over SSL/TLS，对HTTP协议进行了升级，加入了安全机制

## 代理

HTTP协议中请求方和应答方中间的一个环节，作为“中转站”，可以转发客户端的请求，也可以转发服务器的应答。

1. 匿名代理：完全“隐匿”了被代理的机器，外界看到的只是代理服务器；
2. 透明代理：顾名思义，它在传输过程中是“透明开放”的，外界既知道代理，也知道客户端；
3. 正向代理：靠近客户端，代表客户端向服务器发送请求；
4. 反向代理：靠近服务器端，代表服务器响应客户端的请求；



代理可以做很多事情，比如：

- 负载均很：把访问请求均匀分散到多台机器，实现访问集群化
- 内容缓存：缓存上下行的数据，减轻后端压力
- 安全防护：隐匿IP
- 数据处理：提供压缩、加密等额外的功能



# 四、网络分层

把复杂的网络通信划分出多个层次，给每个层次分配不同的职责，层次内只专心做自己的事情就好。

## TCP/IP

链路层：以太网、WIFI等底层网络上发送原始数据，使用MAC地址标记网络设备

网际层：IP协议就在这层，用IP地址取代MAC地址

传输层：保证数据在IP地址标记的两点之间“可靠”传输，TCP、UDP就工作在这层

应用层：面向具体应用的协议，HTTP工作在这层



 MAC 层的传输单位是帧（frame），IP 层的传输单位是包（packet），TCP 层的传输单位是段（segment），HTTP 的传输单位则是消息或报文（message） 



## OSI

物理层：网络的物理组成形式

数据链路层：相当于TCP/IP中的链路层

网络层：相当于TCP/IP的网络层

传输层：相当于TCP/IP的传输层

会话层：维护网络中的连接状态，即保持会话和同步

表示层：把数据转换为合适、可理解的语法和语义

应用层：面向具体应用的传输协议



## 四层负载均衡、七层负载均很

​	四层负载均衡指的是工作在传输层上，基于TCP/IP协议的特性，例如IP地址、端口号等实现对后端服务器的负载均衡。

​	七层负载均衡指的是工作在应用层上，基于HTTP协议，解析HTTP报文里的URI、主机名、资源类型等数据，再用适当的策略转发给后端服务器



# 五、域名系统

域名本质上还是一个名字空间系统，每个域名都是独一无二的，可以作为一种身份标识。

## 域名解析

 浏览器缓存->操作系统缓存->hosts->dns 

